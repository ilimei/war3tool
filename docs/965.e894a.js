(self.webpackChunkwar3tool=self.webpackChunkwar3tool||[]).push([[965],{5314:(t,e,n)=>{"use strict";n(9851),n(4306)},5965:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ColorEditor:()=>u,default:()=>s}),n(5314);var r=n(1187),a=n(7294),o=void 0;function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],c=!0,l=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{c||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){return"#".concat(t.r.toString(16).padStart(2,"0")+t.g.toString(16).padStart(2,"0")+t.b.toString(16).padStart(2,"0"))}var u=function(t){var e=(0,a.useRef)(null),n=c((0,a.useState)("渐变的文字"),2),l=n[0],u=n[1],s=c((0,a.useState)({r:255,g:255,b:255}),2),d=s[0],p=s[1],g=c((0,a.useState)({r:255,g:0,b:0}),2),f=g[0],m=g[1],b=c((0,a.useState)({r:255,g:255,b:0}),2),v=b[0],S=b[1];function y(){e.current&&u(e.current.innerHTML.replace(/<div>/g,"\n").replace(/<br>/g,"\n").replace(/<\/div>/g,"").replace(/<\/span>/g,"|r").replace(/<\/font>/g,"|r").replace(/<font color="#([a-f\d]+)">/g,(function(t,e){return"|cff".concat(e.toUpperCase())})).replace(/<span\s*style="color: ([\S\s]+?);">/g,(function(t,e){return"|cff".concat(function(t){if(console.info("parseRGBStr",t,t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/)),/rgb\((\d+),\s*(\d+),\s*(\d+)\)/.test(t)){var e=c(t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/),4),n=e[1],r=e[2],a=e[3];return parseInt(n,10).toString(16)+parseInt(r,10).toString(16)+parseInt(a,10).toString(16)}return t}(e).toUpperCase())})).replace(/\|r\|c/g,"|c"))}var C=(0,a.useCallback)((function(t){y(),console.info("0-0000000")}),[e.current]),h=(0,a.useCallback)((function(t,e){var n=e.target.value;t({r:parseInt(n.slice(1).slice(0,2),16),g:parseInt(n.slice(1).slice(2,4),16),b:parseInt(n.slice(1).slice(4,6),16)})}),[]),E=(0,a.useCallback)((function(){var t=function(t){t.preventDefault(),t.clipboardData?t.clipboardData.setData("text/plain",l):window.clipboardData&&window.clipboardData.setData("Text",l),r.default.success("复制成功")};window.addEventListener("copy",t),document.execCommand("copy"),window.removeEventListener("copy",t)}),[l]),w=(0,a.useCallback)((function(){document.execCommand("foreColor",!1,"rgb(".concat(d.r,",").concat(d.g,",").concat(d.b,")")),y()}),[d,e.current]),k=(0,a.useCallback)((function(){var t=document.getSelection().getRangeAt(0).toString().split(/\s*/);if(t.length>1){document.execCommand("delete");var e={r:(v.r-f.r)/(t.length-1),g:(v.g-f.g)/(t.length-1),b:(v.b-f.b)/(t.length-1)};document.execCommand("insertHTML",!1,t.map((function(t,n){var r={r:f.r+e.r*n,g:f.g+e.g*n|0,b:f.b+e.b*n|0};return'<font color="#'.concat(r.r.toString(16).padStart(2,"0")+r.g.toString(16).padStart(2,"0")+r.b.toString(16).padStart(2,"0"),'">').concat(t,"</font>")})).join(""))}else 1===t.length&&document.execCommand("foreColor",!1,"rgb(".concat(f.r,",").concat(f.g,",").concat(f.b,")"));y()}),[f,v]);return a.createElement(a.Fragment,null,a.createElement("h1",null,"war3文字颜色"),a.createElement("div",{className:"textEditor",contentEditable:!0,ref:e,onInput:C},"渐变的文字"),a.createElement("div",{className:"noselect"},"color: ",a.createElement("input",{onChange:h.bind(o,p),type:"color",value:i(d)}),a.createElement("button",{onClick:w},"确定")),a.createElement("div",{className:"noselect"},"start:",a.createElement("input",{onChange:h.bind(o,m),type:"color",value:i(f)}),"end:",a.createElement("input",{onChange:h.bind(o,S),type:"color",value:i(v)}),a.createElement("button",{id:"flow",onClick:k},"确定")),a.createElement("div",{className:"result"},a.createElement("pre",null,l)),a.createElement("button",{onClick:E},"一键复制"))};const s=u},4306:(t,e,n)=>{"use strict";n.r(e)}}]);